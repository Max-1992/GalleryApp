(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{xqm2:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class o{}var e=u("pMnS"),i=u("SVse"),s=u("AytR");class r{constructor(l,n){this.photoServices=l,this.router=n,this.url=s.a.HOST}ngOnInit(){this.allPhoto()}allPhoto(){this.photoServices.all().subscribe(l=>this.photos=l,l=>console.log(l))}selectedPhoto(l){this.router.navigateByUrl(`/photos/preview/${l}`)}}var c=u("lJxs"),a=u("IheW");let b=(()=>{class l{constructor(l){this.http=l,this.uri=s.a.URI}add(l,n,u){const t=new FormData;return t.append("title",l),t.append("description",n),t.append("image",u),this.http.post(this.uri,t)}all(){return this.http.get(this.uri).pipe(Object(c.a)(l=>l.data))}get(l){return this.http.get(`${this.uri}/${l}`).pipe(Object(c.a)(l=>l.data))}update(l,n,u){return this.http.put(`${this.uri}/${l}`,{title:n,description:u})}delete(l){return this.http.delete(`${this.uri}/${l}`)}}return l.ngInjectableDef=t.Kb({factory:function(){return new l(t.Lb(a.c))},token:l,providedIn:"root"}),l})();var p=u("iInd"),h=t.mb({encapsulation:0,styles:[[".select[_ngcontent-%COMP%]{cursor:pointer}.select[_ngcontent-%COMP%]:hover{border:1px solid #87cefa}"]],data:{}});function d(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,7,"div",[["class","card  select"]],null,[[null,"dblclick"]],(function(l,n,u){var t=!0;return"dblclick"===n&&(t=!1!==l.component.selectedPhoto(l.context.$implicit._id)&&t),t}),null,null)),(l()(),t.ob(1,0,null,null,0,"img",[["alt","..."],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),(l()(),t.ob(2,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ob(3,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(l()(),t.Eb(4,null,["",""])),(l()(),t.ob(5,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),t.Eb(6,null,["",""])),t.zb(0,i.o,[])],null,(function(l,n){l(n,1,0,n.component.url+n.context.$implicit.imagePath),l(n,4,0,n.context.$implicit.title),l(n,6,0,t.Fb(n,6,0,t.yb(n,7).transform(n.context.$implicit.description,0,50)))}))}function f(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,2,"div",[["class","card-columns m-5"]],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,d)),t.nb(2,278528,null,0,i.h,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.photos)}),null)}function v(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,f)),t.nb(2,16384,null,0,i.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.photos)}),null)}function m(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,1,"app-photo-all-list",[],null,null,null,v,h)),t.nb(1,114688,null,0,r,[b,p.k],null,null)],(function(l,n){l(n,1,0)}),null)}var g=t.kb("app-photo-all-list",r,m,{},{},[]);class y{constructor(l,n){this.photoServices=l,this.router=n}ngOnInit(){}onPhotoSelectid(l){if(l.target.files&&l.target.files[0]){this.file=l.target.files[0];const n=new FileReader;n.onload=l=>this.photoSelected=n.result,n.readAsDataURL(this.file)}}addPhoto(l,n){return this.photoServices.add(l.value,n.value,this.file).subscribe(l=>this.router.navigateByUrl("/photos"),l=>console.log(l)),!1}}var k=t.mb({encapsulation:0,styles:[[""]],data:{}});function x(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,17,"div",[["class","col-lg-4 mx-auto mb-4"]],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.ob(2,0,null,null,2,"div",[["class","card-header text-center bg-info"]],null,null,null,null,null)),(l()(),t.ob(3,0,null,null,1,"h1",[["class","h4 text-white"]],null,null,null,null,null)),(l()(),t.Eb(-1,null,["Upload Photo"])),(l()(),t.ob(5,0,null,null,12,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ob(6,0,null,null,11,"form",[],null,[[null,"submit"]],(function(l,n,u){var o=!0;return"submit"===n&&(o=!1!==l.component.addPhoto(t.yb(l,8),t.yb(l,10))&&o),o}),null,null)),(l()(),t.ob(7,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.ob(8,0,[["title",1]],null,0,"input",[["class","form-control"],["placeholder","Photo's Title"],["required",""],["type","text"]],null,null,null,null,null)),(l()(),t.ob(9,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.ob(10,0,[["description",1]],null,0,"textarea",[["class","form-control"],["cols","30"],["placeholder","Photo's Description"],["required",""],["rows","4"]],null,null,null,null,null)),(l()(),t.ob(11,0,[["photoInput",1]],null,0,"input",[["class","d-none"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.onPhotoSelectid(u)&&t),t}),null,null)),(l()(),t.ob(12,0,null,null,3,"img",[["class","img-fluid mb-3"]],[[8,"src",4]],[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==t.yb(l,11).click()&&o),o}),null,null)),t.Bb(512,null,i.r,i.s,[t.k,t.r,t.B]),t.nb(14,278528,null,0,i.l,[i.r],{ngStyle:[0,"ngStyle"]},null),t.Ab(15,{width:0}),(l()(),t.ob(16,0,null,null,1,"button",[["class","btn btn-info btn-block"],["type","submit"]],null,null,null,null,null)),(l()(),t.Eb(-1,null,[" Add "]))],(function(l,n){var u=l(n,15,0,"100%");l(n,14,0,u)}),(function(l,n){l(n,12,0,n.component.photoSelected||"assets/img/no-images2.png")}))}function P(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,1,"app-photo-form",[],null,null,null,x,k)),t.nb(1,114688,null,0,y,[b,p.k],null,null)],(function(l,n){l(n,1,0)}),null)}var w=t.kb("app-photo-form",y,P,{},{},[]);class S{constructor(l,n,u){this.activateRouter=l,this.router=n,this.photoServices=u,this.url=s.a.HOST}ngOnInit(){this.activateRouter.params.subscribe(l=>{this.id=l.id,this.getPhoto()})}getPhoto(){this.photoServices.get(this.id).subscribe(l=>this.photo=l,l=>console.log(l))}updatePhoto(l,n){return this.photoServices.update(this.id,l,n).subscribe(l=>this.router.navigateByUrl("/photos"),l=>console.log(l)),!1}deletePhoto(){this.photoServices.delete(this.id).subscribe(l=>this.router.navigateByUrl("/photos"),l=>console.log(l))}}var I=t.mb({encapsulation:0,styles:[[""]],data:{}});function O(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,1,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(l()(),t.Eb(-1,null,[" Loading... "]))],null,null)}function $(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,2,"div",[["class","col-md-5"]],null,null,null,null,null)),(l()(),t.ob(2,0,null,null,1,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.ob(3,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4]],null,null,null,null)),(l()(),t.ob(4,0,null,null,12,"div",[["class","col-md-7"]],null,null,null,null,null)),(l()(),t.ob(5,0,null,null,11,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.ob(6,0,null,null,10,"form",[["class","card-body"]],null,[[null,"submit"]],(function(l,n,u){var o=!0;return"submit"===n&&(o=!1!==l.component.updatePhoto(t.yb(l,8).value,t.yb(l,10).value)&&o),o}),null,null)),(l()(),t.ob(7,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.ob(8,0,[["title",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(l()(),t.ob(9,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.ob(10,0,[["description",1]],null,4,"textarea",[["rows","10"]],null,null,null,null,null)),t.Bb(512,null,i.r,i.s,[t.k,t.r,t.B]),t.nb(12,278528,null,0,i.l,[i.r],{ngStyle:[0,"ngStyle"]},null),t.Ab(13,{width:0}),(l()(),t.Eb(14,null,[" "," "])),(l()(),t.ob(15,0,null,null,1,"button",[["class","btn btn-info btn-block"],["type","submit"]],null,null,null,null,null)),(l()(),t.Eb(-1,null,[" Update "]))],(function(l,n){var u=l(n,13,0,"100%");l(n,12,0,u)}),(function(l,n){var u=n.component;l(n,3,0,u.url+u.photo.imagePath),l(n,8,0,u.photo.title),l(n,14,0,u.photo.description)}))}function G(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,6,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,O)),t.nb(2,16384,null,0,i.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.db(16777216,null,null,1,null,$)),t.nb(4,16384,null,0,i.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.ob(5,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.deletePhoto()&&t),t}),null,null)),(l()(),t.Eb(-1,null,[" Delete "]))],(function(l,n){var u=n.component;l(n,2,0,!u.photo),l(n,4,0,u.photo)}),null)}function M(l){return t.Gb(0,[(l()(),t.ob(0,0,null,null,1,"app-photo-preview",[],null,null,null,G,I)),t.nb(1,114688,null,0,S,[p.a,p.k,b],null,null)],(function(l,n){l(n,1,0)}),null)}var B=t.kb("app-photo-preview",S,M,{},{},[]);class E{}u.d(n,"PhotoModuleNgFactory",(function(){return J}));var J=t.lb(o,[],(function(l){return t.wb([t.xb(512,t.j,t.W,[[8,[e.a,g,w,B]],[3,t.j],t.v]),t.xb(4608,i.k,i.j,[t.s,[2,i.u]]),t.xb(1073742336,i.b,i.b,[]),t.xb(1073742336,p.o,p.o,[[2,p.t],[2,p.k]]),t.xb(1073742336,E,E,[]),t.xb(1073742336,o,o,[]),t.xb(1024,p.i,(function(){return[[{path:"",pathMatch:"full",redirectTo:"photos"},{path:"photos",component:r},{path:"photos/add",component:y},{path:"photos/preview/:id",component:S}]]}),[])])}))}}]);