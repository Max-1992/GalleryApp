(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{xqm2:function(l,n,u){"use strict";u.r(n);var t,o=u("8Y7J"),e=function(){},i=u("pMnS"),r=u("SVse"),c=u("AytR"),s=function(){function l(l,n){this.photoServices=l,this.router=n,this.url=c.a.HOST}return l.prototype.ngOnInit=function(){this.allPhoto()},l.prototype.allPhoto=function(){var l=this;this.photoServices.all().subscribe((function(n){return l.photos=n}),(function(l){return console.log(l)}))},l.prototype.selectedPhoto=function(l){this.router.navigateByUrl("/photos/preview/"+l)},l}(),a=u("lJxs"),p=u("IheW"),b=((t=function(){function l(l){this.http=l,this.uri=c.a.URI}return l.prototype.add=function(l,n,u){var t=new FormData;return t.append("title",l),t.append("description",n),t.append("image",u),this.http.post(this.uri,t)},l.prototype.all=function(){return this.http.get(this.uri).pipe(Object(a.a)((function(l){return l.data})))},l.prototype.get=function(l){return this.http.get(this.uri+"/"+l).pipe(Object(a.a)((function(l){return l.data})))},l.prototype.update=function(l,n,u){return this.http.put(this.uri+"/"+l,{title:n,description:u})},l.prototype.delete=function(l){return this.http.delete(this.uri+"/"+l)},l}()).ngInjectableDef=o.Kb({factory:function(){return new t(o.Lb(p.c))},token:t,providedIn:"root"}),t),h=u("iInd"),d=o.mb({encapsulation:0,styles:[[".select[_ngcontent-%COMP%]{cursor:pointer}.select[_ngcontent-%COMP%]:hover{border:1px solid #87cefa}"]],data:{}});function f(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,7,"div",[["class","card  select"]],null,[[null,"dblclick"]],(function(l,n,u){var t=!0;return"dblclick"===n&&(t=!1!==l.component.selectedPhoto(l.context.$implicit._id)&&t),t}),null,null)),(l()(),o.ob(1,0,null,null,0,"img",[["alt","..."],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),(l()(),o.ob(2,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),o.ob(3,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(l()(),o.Eb(4,null,["",""])),(l()(),o.ob(5,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),o.Eb(6,null,["",""])),o.zb(0,r.o,[])],null,(function(l,n){l(n,1,0,n.component.url+n.context.$implicit.imagePath),l(n,4,0,n.context.$implicit.title),l(n,6,0,o.Fb(n,6,0,o.yb(n,7).transform(n.context.$implicit.description,0,50)))}))}function v(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,2,"div",[["class","card-columns m-5"]],null,null,null,null,null)),(l()(),o.db(16777216,null,null,1,null,f)),o.nb(2,278528,null,0,r.h,[o.M,o.J,o.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.photos)}),null)}function m(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),o.db(16777216,null,null,1,null,v)),o.nb(2,16384,null,0,r.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.photos)}),null)}var g=o.kb("app-photo-all-list",s,(function(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,1,"app-photo-all-list",[],null,null,null,m,d)),o.nb(1,114688,null,0,s,[b,h.k],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),y=function(){function l(l,n){this.photoServices=l,this.router=n}return l.prototype.ngOnInit=function(){},l.prototype.onPhotoSelectid=function(l){var n=this;if(l.target.files&&l.target.files[0]){this.file=l.target.files[0];var u=new FileReader;u.onload=function(l){return n.photoSelected=u.result},u.readAsDataURL(this.file)}},l.prototype.addPhoto=function(l,n){var u=this;return this.photoServices.add(l.value,n.value,this.file).subscribe((function(l){return u.router.navigateByUrl("/photos")}),(function(l){return console.log(l)})),!1},l}(),k=o.mb({encapsulation:0,styles:[[""]],data:{}});function x(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,17,"div",[["class","col-lg-4 mx-auto mb-4"]],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(l()(),o.ob(2,0,null,null,2,"div",[["class","card-header text-center bg-info"]],null,null,null,null,null)),(l()(),o.ob(3,0,null,null,1,"h1",[["class","h4 text-white"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,["Upload Photo"])),(l()(),o.ob(5,0,null,null,12,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),o.ob(6,0,null,null,11,"form",[],null,[[null,"submit"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==l.component.addPhoto(o.yb(l,8),o.yb(l,10))&&t),t}),null,null)),(l()(),o.ob(7,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),o.ob(8,0,[["title",1]],null,0,"input",[["class","form-control"],["placeholder","Photo's Title"],["required",""],["type","text"]],null,null,null,null,null)),(l()(),o.ob(9,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),o.ob(10,0,[["description",1]],null,0,"textarea",[["class","form-control"],["cols","30"],["placeholder","Photo's Description"],["required",""],["rows","4"]],null,null,null,null,null)),(l()(),o.ob(11,0,[["photoInput",1]],null,0,"input",[["class","d-none"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.onPhotoSelectid(u)&&t),t}),null,null)),(l()(),o.ob(12,0,null,null,3,"img",[["class","img-fluid mb-3"]],[[8,"src",4]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==o.yb(l,11).click()&&t),t}),null,null)),o.Bb(512,null,r.r,r.s,[o.k,o.r,o.B]),o.nb(14,278528,null,0,r.l,[r.r],{ngStyle:[0,"ngStyle"]},null),o.Ab(15,{width:0}),(l()(),o.ob(16,0,null,null,1,"button",[["class","btn btn-info btn-block"],["type","submit"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,[" Add "]))],(function(l,n){var u=l(n,15,0,"100%");l(n,14,0,u)}),(function(l,n){l(n,12,0,n.component.photoSelected||"assets/img/no-images2.png")}))}var P=o.kb("app-photo-form",y,(function(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,1,"app-photo-form",[],null,null,null,x,k)),o.nb(1,114688,null,0,y,[b,h.k],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),w=function(){function l(l,n,u){this.activateRouter=l,this.router=n,this.photoServices=u,this.url=c.a.HOST}return l.prototype.ngOnInit=function(){var l=this;this.activateRouter.params.subscribe((function(n){l.id=n.id,l.getPhoto()}))},l.prototype.getPhoto=function(){var l=this;this.photoServices.get(this.id).subscribe((function(n){return l.photo=n}),(function(l){return console.log(l)}))},l.prototype.updatePhoto=function(l,n){var u=this;return this.photoServices.update(this.id,l,n).subscribe((function(l){return u.router.navigateByUrl("/photos")}),(function(l){return console.log(l)})),!1},l.prototype.deletePhoto=function(){var l=this;this.photoServices.delete(this.id).subscribe((function(n){return l.router.navigateByUrl("/photos")}),(function(l){return console.log(l)}))},l}(),S=o.mb({encapsulation:0,styles:[[""]],data:{}});function I(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,1,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,[" Loading... "]))],null,null)}function O(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,2,"div",[["class","col-md-5"]],null,null,null,null,null)),(l()(),o.ob(2,0,null,null,1,"div",[["class","card"]],null,null,null,null,null)),(l()(),o.ob(3,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4]],null,null,null,null)),(l()(),o.ob(4,0,null,null,12,"div",[["class","col-md-7"]],null,null,null,null,null)),(l()(),o.ob(5,0,null,null,11,"div",[["class","card"]],null,null,null,null,null)),(l()(),o.ob(6,0,null,null,10,"form",[["class","card-body"]],null,[[null,"submit"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==l.component.updatePhoto(o.yb(l,8).value,o.yb(l,10).value)&&t),t}),null,null)),(l()(),o.ob(7,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),o.ob(8,0,[["title",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(l()(),o.ob(9,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),o.ob(10,0,[["description",1]],null,4,"textarea",[["rows","10"]],null,null,null,null,null)),o.Bb(512,null,r.r,r.s,[o.k,o.r,o.B]),o.nb(12,278528,null,0,r.l,[r.r],{ngStyle:[0,"ngStyle"]},null),o.Ab(13,{width:0}),(l()(),o.Eb(14,null,[" "," "])),(l()(),o.ob(15,0,null,null,1,"button",[["class","btn btn-info btn-block"],["type","submit"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,[" Update "]))],(function(l,n){var u=l(n,13,0,"100%");l(n,12,0,u)}),(function(l,n){var u=n.component;l(n,3,0,u.url+u.photo.imagePath),l(n,8,0,u.photo.title),l(n,14,0,u.photo.description)}))}function G(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,6,"div",[["class","container"]],null,null,null,null,null)),(l()(),o.db(16777216,null,null,1,null,I)),o.nb(2,16384,null,0,r.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(l()(),o.db(16777216,null,null,1,null,O)),o.nb(4,16384,null,0,r.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(l()(),o.ob(5,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.deletePhoto()&&t),t}),null,null)),(l()(),o.Eb(-1,null,[" Delete "]))],(function(l,n){var u=n.component;l(n,2,0,!u.photo),l(n,4,0,u.photo)}),null)}var M=o.kb("app-photo-preview",w,(function(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,1,"app-photo-preview",[],null,null,null,G,S)),o.nb(1,114688,null,0,w,[h.a,h.k,b],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),B=function(){};u.d(n,"PhotoModuleNgFactory",(function(){return E}));var E=o.lb(e,[],(function(l){return o.wb([o.xb(512,o.j,o.W,[[8,[i.a,g,P,M]],[3,o.j],o.v]),o.xb(4608,r.k,r.j,[o.s,[2,r.u]]),o.xb(1073742336,r.b,r.b,[]),o.xb(1073742336,h.o,h.o,[[2,h.t],[2,h.k]]),o.xb(1073742336,B,B,[]),o.xb(1073742336,e,e,[]),o.xb(1024,h.i,(function(){return[[{path:"",pathMatch:"full",redirectTo:"photos"},{path:"photos",component:s},{path:"photos/add",component:y},{path:"photos/preview/:id",component:w}]]}),[])])}))}}]);